<!DOCTYPE html>
<html>
<head>
    <title>Pay (examples)</title>
    <meta name="viewport" content="width=device-width,initial-scale=1">
</head>

<body>
<script>
  !function(e,o,n){var r=e=>{var n={sandbox:"https://sandbox-merchant.revolut.com/embed.js",prod:"https://merchant.revolut.com/embed.js",dev:"https://merchant.revolut.codes/embed.js"},r=o.createElement("script");return r.id="revolut-checkout",r.src=n[e]||n.prod,r.async=!0,o.head.appendChild(r),r},t=function(e,r){return{then:function(t,c){e.onload=function(){t(r())},e.onerror=function(){o.head.removeChild(e),c&&c(new Error(n+" failed to load"))}}}};e[n]=function(o,c){var u=t(r(c||"prod"),(function(){return e[n](o)}));return"function"==typeof Promise?Promise.resolve(u):u},e[n].payments=function(o){var c=t(r(o.mode||"prod"),(function(){return e[n].payments({locale:o.locale||"en",publicToken:o.publicToken||null})}));return"function"==typeof Promise?Promise.resolve(c):c}}(window,document,"RevolutCheckout");
</script>
<script>
  var searchParams = new URLSearchParams(window.location.search.slice(1))
  var orderPublicId = searchParams.get('o')
  RevolutCheckout(
    orderPublicId,
    'sandbox'
  ).then(function (instance) {
    instance.payWithPopup({
      onSuccess() {
        alert('success')
      },
      onError(message) {
        console.error(message)
        alert('error')
      },
      savePaymentMethodFor: 'merchant',
      locale: 'en',
      billingAddress: {
        countryCode: 'GB',
        region: 'Greater London',
        city: 'London',
        streetLine1: 'Revolut',
        streetLine2: '1 Canada Square',
        postcode: 'EC2V 6DN'
      }
    })
  })
</script>
</body>
</html>
